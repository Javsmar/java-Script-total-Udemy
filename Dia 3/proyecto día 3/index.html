<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="misEstilos.css">
    <title>Responde Rapido</title>
</head>
<body onload="comenzarCuentaRegresiva()">
    <h2>Responde a las preguntas lo mas rapido que puedas<span id="cuentaRegresiva"></span></h2>
    <p>1. ¿Cual es la capital de Francia?</p>
    <input type="text" id="respuestaUno">

    <p>2. (7 * 5) + 15</p>
    <input type="text" id="respuestaDos">

    <p>3. simbolo quimico del agua</p>
    <input type="text" id="respuestaTres">

    <p>4. Año descubrimiento de america</p>
    <input type="text" id="respuestaCuatro">

    <p>5. Nombre de los 4 beatles</p>
    <input type="text" id="respuestaCinco">
    <br>
    <br>

    <button onclick="finalizado()">Terminé!</button>
    <br>
    <br>
    <button onclick="volverAIntentarlo()">Volver a Intentar</button>

    <audio id="audioFinal">
        <source src="gameover.mp3" type="audio/mpeg">
        Sonido no Habilitado
    </audio>

    <script>
        let tiempoTerminado;
        let intervaloDeTiempo;

        function comenzarCuentaRegresiva(){  
            tiempoTerminado = setTimeout(tiempoCumplido, 1000 * 30);
            intervaloDeTiempo = setInterval(ticTac, 1000);
            document.getElementById("cuentaRegresiva").textContent = 30;
        }

        function ticTac(){
            let tiempo = document.getElementById("cuentaRegresiva").textContent;
            document.getElementById("cuentaRegresiva").textContent = tiempo -1;
        }

        function tiempoCumplido(){
            clearInterval(intervaloDeTiempo);
            document.getElementById("cuentaRegresiva").textContent = 0;
            document.getElementById("audioFinal").play();
            alert("Game Over")
        }

        function finalizado(){
            clearTimeout(tiempoTerminado);
            clearInterval(intervaloDeTiempo);

            let fecha = new Date();
            let respuestaUno = document.getElementById("respuestaUno").value;
            let respuestaDos = document.getElementById("respuestaDos").value;
            let respuestaTres = document.getElementById("respuestaTres").value;
            let respuestaCuatro = document.getElementById("respuestaCuatro").value;
            let respuestaCinco = document.getElementById("respuestaCinco").value;

            let mensaje = fecha.toLocaleDateString("es-Es") + "\n" +
                            "1." + respuestaUno + "\n" +
                            "2." + respuestaDos + "\n" +
                            "3." + respuestaTres + "\n" +
                            "4." + respuestaCuatro + "\n" +
                            "5." + respuestaCinco; 
            alert(mensaje);
        }

        function volverAIntentarlo(){
            location.reload();
        }
    </script>
    
</body>
</html>